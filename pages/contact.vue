<template>
  <div>
    <Head>
      <Title>Contact Us | SquadCoders</Title>
      <Meta name="description" content="Get in touch with SquadCoders. We're ready to discuss your project ideas, answer your questions, or explore collaboration opportunities." />
    </Head>

    <!-- Page Header -->
    <section class="py-12 md:py-16 bg-base-200">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <h1 class="text-4xl font-bold font-headings text-primary sm:text-5xl">
          Get In Touch
        </h1>
        <p class="mt-4 text-lg text-base-content/70 sm:text-xl max-w-2xl mx-auto">
          We're excited to hear from you! Whether you have a project in mind, a question about our services, or just want to say hello, reach out to us.
        </p>
      </div>
    </section>

    <!-- Contact Details & Form Section -->
    <section class="py-16 md:py-24 bg-base-100">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid md:grid-cols-2 gap-12 lg:gap-16 items-start">

          <!-- Contact Information -->
          <div class="space-y-8">
            <div>
              <h2 class="text-2xl font-bold font-headings text-base-content mb-4">Contact <span class="text-primary">SquadCoders</span></h2>
              <p class="text-base-content/70 mb-6">
                Our team is available to assist you. Please feel free to contact us through any of the methods below, or use the form to send us a direct message.
              </p>
            </div>

            <div class="flex items-start space-x-4">
              <div class="flex-shrink-0">
                <div class="p-3 bg-primary text-primary-content rounded-full">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" /><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z" /></svg>
                </div>
              </div>
              <div>
                <h3 class="text-lg font-semibold font-headings text-base-content">Our Office</h3>
                <p class="text-base-content/70">123 Coding Lane, Dev City, TX 75001</p>
                <p class="text-base-content/70">United States</p>
              </div>
            </div>

            <div class="flex items-start space-x-4">
              <div class="flex-shrink-0">
                <div class="p-3 bg-secondary text-secondary-content rounded-full">
                   <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75" /></svg>
                </div>
              </div>
              <div>
                <h3 class="text-lg font-semibold font-headings text-base-content">Email Us</h3>
                <p class="text-base-content/70 hover:text-secondary transition-colors"><a href="mailto:contact@squadcoders.dev">contact@squadcoders.dev</a></p>
                <p class="text-base-content/70 hover:text-secondary transition-colors"><a href="mailto:support@squadcoders.dev">support@squadcoders.dev</a></p>
              </div>
            </div>

            <div class="flex items-start space-x-4">
              <div class="flex-shrink-0">
                <div class="p-3 bg-accent text-accent-content rounded-full">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z" /></svg>
                </div>
              </div>
              <div>
                <h3 class="text-lg font-semibold font-headings text-base-content">Call Us</h3>
                <p class="text-base-content/70">(555) 123-4567 (Sales)</p>
                <p class="text-base-content/70">(555) 987-6543 (Support)</p>
              </div>
            </div>

            <div class="pt-6">
                <h3 class="text-lg font-semibold font-headings text-base-content mb-2">Find Us Here</h3>
                <div class="aspect-w-16 aspect-h-9 bg-base-300 rounded-lg shadow-md">
                    <iframe
                        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3354.666958489812!2d-96.79685568481797!3d32.77666418097565!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x864e992935297d6b%3A0x1e1f7b0c6b6b0f6!2sDallas%2C%20TX%2C%20USA!5e0!3m2!1sen!2suk!4v1628596029673!5m2!1sen!2suk"
                        width="100%"
                        height="300"
                        style="border:0;"
                        allowfullscreen=""
                        loading="lazy"
                        class="rounded-lg"
                        referrerpolicy="no-referrer-when-downgrade">
                    </iframe>
                </div>
            </div>
          </div>

          <!-- Contact Form -->
          <div class="bg-base-200 p-8 md:p-10 rounded-lg shadow-xl">
            <h2 class="text-2xl font-bold font-headings text-base-content mb-6">Send Us a <span class="text-secondary">Message</span></h2>
            <form @submit.prevent="handleSubmit" class="space-y-6">
              <div>
                <label for="name" class="label">
                  <span class="label-text text-base-content/80">Full Name</span>
                </label>
                <input type="text" id="name" v-model="form.name" placeholder="e.g. John Doe" class="input input-bordered w-full focus:input-primary" required />
              </div>
              <div>
                <label for="email" class="label">
                  <span class="label-text text-base-content/80">Email Address</span>
                </label>
                <input type="email" id="email" v-model="form.email" placeholder="e.g. john.doe@example.com" class="input input-bordered w-full focus:input-primary" required />
              </div>
              <div>
                <label for="service" class="label">
                  <span class="label-text text-base-content/80">Service of Interest (Optional)</span>
                </label>
                <select id="service" v-model="form.service" class="select select-bordered w-full focus:select-primary">
                  <option disabled selected value="">Select a service</option>
                  <option value="web-development">Web Development</option>
                  <option value="ui-ux-design">UI/UX Design</option>
                  <option value="seo-strategy">SEO & Digital Strategy</option>
                  <option value="general-inquiry">General Inquiry</option>
                  <option value="other">Other</option>
                </select>
              </div>
              <div>
                <label for="message" class="label">
                  <span class="label-text text-base-content/80">Your Message</span>
                </label>
                <textarea id="message" v-model="form.message" class="textarea textarea-bordered w-full h-32 focus:textarea-primary" placeholder="How can we help you today?" required></textarea>
              </div>
              <div>
                <button type="submit" class="btn btn-primary btn-block hover:btn-primary-focus" :disabled="submitting">
                  <span v-if="submitting" class="loading loading-spinner loading-sm mr-2"></span>
                  Send Message
                </button>
              </div>
            </form>
            <div v-if="submittedMessage" class="alert alert-success mt-6 shadow-lg">
              <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current flex-shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                <span>{{ submittedMessage }}</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

  </div>
</template>

<script setup>
import { ref, onMounted } from 'vue';
import { useRoute } from 'vue-router';

const route = useRoute();

const form = ref({
  name: '',
  email: '',
  service: '',
  message: ''
});

const submittedMessage = ref('');
const submitting = ref(false);

const handleSubmit = async () => {
  submitting.value = true;
  console.log('Form submitted:', form.value);

  // Simulate API call
  await new Promise(resolve => setTimeout(resolve, 1200));

  submittedMessage.value = `Thank you, ${form.value.name}! Your message regarding "${form.value.service || 'your inquiry'}" has been received. We'll be in touch shortly.`;

  // Clear form after a delay to allow user to see the message
  setTimeout(() => {
    submittedMessage.value = '';
    form.value = { name: '', email: '', service: '', message: '' };
  }, 8000); // Hide message and clear form after 8 seconds

  submitting.value = false;
};

onMounted(() => {
  if (route.query.service) {
    form.value.service = route.query.service;
  }
});

</script>

<style scoped>
/* Scoped styles for contact page if needed */
</style>
